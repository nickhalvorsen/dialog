<!-- development version, includes helpful console warnings -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="texter.js"></script>

<style>
#dialog {
    padding: 2em;
    border: 1px solid #000;
    width: 30em;
    height: 20em;
    margin: 0 auto;
}

</style>

<div id="dialog">
    <div id="dialog-message" class="dialog-message">
        {{ message }}
    </div>
    <hr/>
    <div v-if="flags.showActions">
        <div class="dialog-options" v-if="flags.showActionOptions">
            <ol>
                <li v-for="choice in choices">
                    <span class="dialog-choice" v-on:click="choiceClicked(choice.id)">
                        {{ choice.text }}
                    </span>
                </li>
            </ol>
        </div>
        <div class="dialog-continue" v-if="flags.showActionContinue">
            <span v-on:click="continueClicked()">
                continue
            </span>
        </div>
    </div>
</div>

ADD THIS https://vuejs.org/v2/guide/transitions.html#JavaScript-Hooks

<script>

var app = new Vue({
  el: '#dialog',
  data: {
    message: '',
    choices: [],
    flags : {
        showActions: false,
        showActionOptions: false,
        showActionContinue: false
    }
  },
  methods: {
      displayMessage: function(messagePayload) {
          this.message = ''
          var texter = new Texter('dialog-message');
          texter.display(messagePayload.message, 40, () => this.displayActions(messagePayload.choices));
            //this.message = messagePayload.message
            this.choices = messagePayload.choices
      },
      choiceClicked: function(choiceId) {
            console.log('choice clicked ' + choiceId)
      },
      continueClicked: function() {
          console.log('continue clicked')
      },
      displayActions(choices) {
            this.flags.showActions = true
            this.flags.showActionOptions = this.choices !== null && this.choices.length > 0
            this.flags.showActionContinue = !this.flags.showActionOptions

      }
  }
})



var payload1 = {
    message: "what would you like to get done today?",
    choices: [
        { id: 1, text: "first option" },
        { id: 2, text: 'second option'}
    ]
}


var payload2 = {
    message: "hello world",
    choices: []
}

var payloads = [payload1,payload2]

app.displayMessage(payload1)

</script>